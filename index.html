<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Cash Flow Sheet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .date-section {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .date-box {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            font-weight: 600;
            color: #2c3e50;
        }
        
        .sheet-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .section {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .section-title {
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cash-in-section {
            border-top: 4px solid #2ecc71;
        }
        
        .cash-out-section {
            border-top: 4px solid #e74c3c;
        }
        
        .summary-section {
            border-top: 4px solid #3498db;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #444;
        }
        
        input, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        input:focus, select:focus {
            border-color: #3498db;
            outline: none;
        }
        
        .transaction-row {
            display: grid;
            grid-template-columns: 2fr 1fr 40px;
            gap: 10px;
            margin-bottom: 12px;
            align-items: end;
        }
        
        .add-button {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .add-button:hover {
            background-color: #2980b9;
        }
        
        .delete-btn {
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .delete-btn:hover {
            background-color: #c0392b;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .summary-label {
            font-weight: 600;
            color: #555;
        }
        
        .summary-value {
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .cash-in {
            color: #2ecc71;
        }
        
        .cash-out {
            color: #e74c3c;
        }
        
        .net-cash {
            font-size: 1.3rem;
            padding-top: 15px;
            border-top: 2px solid #f0f0f0;
        }
        
        .positive {
            color: #2ecc71;
        }
        
        .negative {
            color: #e74c3c;
        }
        
        .zero {
            color: #7f8c8d;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .print-btn, .reset-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .print-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        .print-btn:hover {
            background-color: #27ae60;
        }
        
        .reset-btn {
            background-color: #95a5a6;
            color: white;
        }
        
        .reset-btn:hover {
            background-color: #7f8c8d;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }
        
        @media print {
            body {
                background: white;
                padding: 10px;
            }
            
            .add-button, .delete-btn, .reset-btn, .print-btn {
                display: none !important;
            }
            
            .section {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Daily Cash Flow Sheet</h1>
            <p>Track daily cash inflows and outflows to monitor financial position</p>
            
            <div class="date-section">
                <div class="date-box">
                    <label for="date">Date:</label>
                    <input type="date" id="date" value="">
                </div>
                <div class="date-box">
                    <label for="prepared-by">Prepared By:</label>
                    <input type="text" id="prepared-by" placeholder="Your Name">
                </div>
            </div>
        </header>
        
        <div class="sheet-container">
            <div class="section cash-in-section">
                <div class="section-title">
                    <span>Cash Inflows</span>
                    <button class="add-button" id="add-cash-in">
                        <span>+</span> Add Item
                    </button>
                </div>
                
                <div id="cash-in-container">
                    <div class="transaction-row">
                        <div class="form-group">
                            <label>Description</label>
                            <input type="text" class="cash-in-desc" placeholder="Sales, Receivables, etc." value="Sales Revenue">
                        </div>
                        <div class="form-group">
                            <label>Amount ($)</label>
                            <input type="number" class="cash-in-amount" placeholder="0.00" value="1250.50" min="0" step="0.01">
                        </div>
                        <button class="delete-btn" onclick="deleteRow(this)">×</button>
                    </div>
                    
                    <div class="transaction-row">
                        <div class="form-group">
                            <input type="text" class="cash-in-desc" placeholder="Sales, Receivables, etc." value="Loan Proceeds">
                        </div>
                        <div class="form-group">
                            <input type="number" class="cash-in-amount" placeholder="0.00" value="500.00" min="0" step="0.01">
                        </div>
                        <button class="delete-btn" onclick="deleteRow(this)">×</button>
                    </div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-label">Total Cash In</div>
                    <div class="summary-value cash-in" id="total-cash-in">$1,750.50</div>
                </div>
            </div>
            
            <div class="section cash-out-section">
                <div class="section-title">
                    <span>Cash Outflows</span>
                    <button class="add-button" id="add-cash-out">
                        <span>+</span> Add Item
                    </button>
                </div>
                
                <div id="cash-out-container">
                    <div class="transaction-row">
                        <div class="form-group">
                            <label>Description</label>
                            <input type="text" class="cash-out-desc" placeholder="Expenses, Purchases, etc." value="Inventory Purchase">
                        </div>
                        <div class="form-group">
                            <label>Amount ($)</label>
                            <input type="number" class="cash-out-amount" placeholder="0.00" value="450.75" min="0" step="0.01">
                        </div>
                        <button class="delete-btn" onclick="deleteRow(this)">×</button>
                    </div>
                    
                    <div class="transaction-row">
                        <div class="form-group">
                            <input type="text" class="cash-out-desc" placeholder="Expenses, Purchases, etc." value="Rent Expense">
                        </div>
                        <div class="form-group">
                            <input type="number" class="cash-out-amount" placeholder="0.00" value="300.00" min="0" step="0.01">
                        </div>
                        <button class="delete-btn" onclick="deleteRow(this)">×</button>
                    </div>
                    
                    <div class="transaction-row">
                        <div class="form-group">
                            <input type="text" class="cash-out-desc" placeholder="Expenses, Purchases, etc." value="Utilities">
                        </div>
                        <div class="form-group">
                            <input type="number" class="cash-out-amount" placeholder="0.00" value="85.25" min="0" step="0.01">
                        </div>
                        <button class="delete-btn" onclick="deleteRow(this)">×</button>
                    </div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-label">Total Cash Out</div>
                    <div class="summary-value cash-out" id="total-cash-out">$836.00</div>
                </div>
            </div>
            
            <div class="section summary-section">
                <div class="section-title">
                    <span>Daily Cash Summary</span>
                </div>
                
                <div class="summary-item">
                    <div class="summary-label">Opening Balance</div>
                    <div class="summary-value" id="opening-balance">$1,250.00</div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-label">Total Cash In</div>
                    <div class="summary-value cash-in" id="summary-cash-in">$1,750.50</div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-label">Total Cash Out</div>
                    <div class="summary-value cash-out" id="summary-cash-out">$836.00</div>
                </div>
                
                <div class="summary-item net-cash">
                    <div class="summary-label">Net Cash Flow</div>
                    <div class="summary-value" id="net-cash-flow">$914.50</div>
                </div>
                
                <div class="summary-item net-cash">
                    <div class="summary-label">Closing Balance</div>
                    <div class="summary-value" id="closing-balance">$2,164.50</div>
                </div>
                
                <div class="form-group" style="margin-top: 25px;">
                    <label for="notes">Notes / Comments</label>
                    <textarea id="notes" rows="4" placeholder="Add any notes about today's cash flow..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">Good sales day with higher than average revenue. Paid monthly rent expense.</textarea>
                </div>
            </div>
        </div>
        
        <div class="actions">
            <button class="print-btn" onclick="window.print()">Print / Save as PDF</button>
            <button class="reset-btn" onclick="resetForm()">Reset for New Day</button>
        </div>
        
        <footer>
            <p>Daily Cash Flow Sheet &copy; <span id="current-year"></span> | Update daily to maintain accurate cash position tracking</p>
        </footer>
    </div>

    <script>
        // Set today's date as default
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('date').value = today;
            
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // Calculate initial totals
            calculateTotals();
            
            // Set up event listeners for inputs
            setupEventListeners();
        });
        
        function setupEventListeners() {
            // Listen for input changes to recalculate
            document.getElementById('cash-in-container').addEventListener('input', calculateTotals);
            document.getElementById('cash-out-container').addEventListener('input', calculateTotals);
            document.getElementById('opening-balance').addEventListener('input', calculateTotals);
            
            // Add cash in button
            document.getElementById('add-cash-in').addEventListener('click', function() {
                addTransactionRow('cash-in-container', 'cash-in-desc', 'cash-in-amount');
            });
            
            // Add cash out button
            document.getElementById('add-cash-out').addEventListener('click', function() {
                addTransactionRow('cash-out-container', 'cash-out-desc', 'cash-out-amount');
            });
        }
        
        function addTransactionRow(containerId, descClass, amountClass) {
            const container = document.getElementById(containerId);
            const row = document.createElement('div');
            row.className = 'transaction-row';
            
            row.innerHTML = `
                <div class="form-group">
                    <input type="text" class="${descClass}" placeholder="${containerId === 'cash-in-container' ? 'Sales, Receivables, etc.' : 'Expenses, Purchases, etc.'}">
                </div>
                <div class="form-group">
                    <input type="number" class="${amountClass}" placeholder="0.00" min="0" step="0.01">
                </div>
                <button class="delete-btn" onclick="deleteRow(this)">×</button>
            `;
            
            container.appendChild(row);
            
            // Add event listener to new inputs
            row.querySelector(`.${amountClass}`).addEventListener('input', calculateTotals);
        }
        
        function deleteRow(button) {
            const row = button.closest('.transaction-row');
            row.remove();
            calculateTotals();
        }
        
        function calculateTotals() {
            // Calculate total cash in
            let totalCashIn = 0;
            const cashInAmounts = document.querySelectorAll('.cash-in-amount');
            cashInAmounts.forEach(input => {
                const value = parseFloat(input.value) || 0;
                totalCashIn += value;
            });
            
            // Calculate total cash out
            let totalCashOut = 0;
            const cashOutAmounts = document.querySelectorAll('.cash-out-amount');
            cashOutAmounts.forEach(input => {
                const value = parseFloat(input.value) || 0;
                totalCashOut += value;
            });
            
            // Get opening balance
            const openingBalance = parseFloat(document.getElementById('opening-balance').textContent.replace('$', '').replace(',', '')) || 0;
            
            // Calculate net cash flow and closing balance
            const netCashFlow = totalCashIn - totalCashOut;
            const closingBalance = openingBalance + netCashFlow;
            
            // Format numbers with commas
            const formatCurrency = (num) => {
                return '$' + num.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
            };
            
            // Update display
            document.getElementById('total-cash-in').textContent = formatCurrency(totalCashIn);
            document.getElementById('total-cash-out').textContent = formatCurrency(totalCashOut);
            document.getElementById('summary-cash-in').textContent = formatCurrency(totalCashIn);
            document.getElementById('summary-cash-out').textContent = formatCurrency(totalCashOut);
            document.getElementById('net-cash-flow').textContent = formatCurrency(netCashFlow);
            document.getElementById('closing-balance').textContent = formatCurrency(closingBalance);
            
            // Color code net cash flow
            const netCashElement = document.getElementById('net-cash-flow');
            if (netCashFlow > 0) {
                netCashElement.className = 'summary-value positive';
            } else if (netCashFlow < 0) {
                netCashElement.className = 'summary-value negative';
            } else {
                netCashElement.className = 'summary-value zero';
            }
            
            // Color code closing balance
            const closingElement = document.getElementById('closing-balance');
            if (closingBalance > openingBalance) {
                closingElement.className = 'summary-value positive';
            } else if (closingBalance < openingBalance) {
                closingElement.className = 'summary-value negative';
            } else {
                closingElement.className = 'summary-value zero';
            }
        }
        
        function resetForm() {
            if (confirm("Are you sure you want to reset for a new day? This will clear all transaction entries.")) {
                // Clear cash in rows except first one
                const cashInContainer = document.getElementById('cash-in-container');
                const firstCashInRow = cashInContainer.querySelector('.transaction-row');
                cashInContainer.innerHTML = '';
                cashInContainer.appendChild(firstCashInRow);
                
                // Clear cash out rows except first one
                const cashOutContainer = document.getElementById('cash-out-container');
                const firstCashOutRow = cashOutContainer.querySelector('.transaction-row');
                cashOutContainer.innerHTML = '';
                cashOutContainer.appendChild(firstCashOutRow);
                
                // Reset values in first rows
                cashInContainer.querySelector('.cash-in-desc').value = '';
                cashInContainer.querySelector('.cash-in-amount').value = '';
                
                cashOutContainer.querySelector('.cash-out-desc').value = '';
                cashOutContainer.querySelector('.cash-out-amount').value = '';
                
                // Set opening balance to yesterday's closing balance
                const closingBalance = document.getElementById('closing-balance').textContent;
                document.getElementById('opening-balance').textContent = closingBalance;
                
                // Clear notes
                document.getElementById('notes').value = '';
                
                // Set tomorrow's date
                const today = new Date();
                today.setDate(today.getDate() + 1);
                const tomorrow = today.toISOString().split('T')[0];
                document.getElementById('date').value = tomorrow;
                
                // Recalculate
                calculateTotals();
            }
        }
    </script>
</body>
</html>
